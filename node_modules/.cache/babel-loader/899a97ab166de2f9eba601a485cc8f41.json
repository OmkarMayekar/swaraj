{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Personal\\\\swaraj_ui\\\\src\\\\RegisterUserComponent.jsx\";\nimport React, { Component } from 'react';\nimport ApiService from \"./ApiService\";\nimport PopUp from \"./Popup\";\nimport { messages } from \"./messages\";\nimport './App.css';\n\nclass RegisterUserComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.saveUser = e => {\n      console.log(\"validating username....\");\n\n      if (this.state.username && this.state.password) {\n        e.preventDefault();\n        let user = {\n          email: this.state.email,\n          username: this.state.username,\n          password: this.state.password,\n          role: \"NONADMIN\"\n        };\n\n        if (this.state.isEmailValid == true) {\n          ApiService.addUser(user).then(res => {\n            console.log(\"response of register is : \", res);\n            var responseCode = res.data.code;\n            console.log(\"responseCode is : \" + responseCode);\n\n            if (responseCode == 200) {\n              this.setState({\n                showSuccessPopUp: true\n              });\n            }\n\n            if (responseCode == 406 && res.data.data.service_flag == \"USER_WITH_SAME_EMAIL_ALREADY_EXISTS\") {\n              this.setState({\n                emailAlreadyExists: true\n              });\n            }\n\n            if (responseCode == 406 && res.data.data.service_flag == \"USER_WITH_SAME_USERNAME_ALREADY_EXISTS\") {\n              this.setState({\n                usernameAlreadyExists: true\n              });\n            }\n          });\n        } else {\n          return false;\n        }\n      } else {\n        if (!this.state.username) {\n          this.setState({\n            isUserNameValid: false\n          });\n        }\n\n        if (!this.state.password) {\n          this.setState({\n            isPasswordValid: false\n          });\n        }\n\n        if (!this.state.role) {\n          this.setState({\n            isRoleValid: false\n          });\n        }\n\n        return false;\n      }\n    };\n\n    this.onChange = e => this.setState({\n      [e.target.name]: e.target.value,\n      isUserNameValid: true,\n      isPasswordValid: true,\n      isRoleValid: true\n    });\n\n    this.state = {\n      username: '',\n      password: '',\n      email: '',\n      role: '',\n      mobile: '',\n      showSuccessPopUp: false,\n      isEmailValid: true,\n      isUserNameValid: true,\n      isPasswordValid: true,\n      isRoleValid: true,\n      emailAlreadyExists: false,\n      usernameAlreadyExists: false\n    };\n    this.saveUser = this.saveUser.bind(this);\n    this.onClose = this.onClose.bind(this);\n    this.validateEmail = this.validateEmail.bind(this);\n    this.validateMobile = this.validateMobile.bind(this);\n  }\n\n  onClose() {\n    this.setState({\n      showSuccessPopUp: false,\n      emailAlreadyExists: false,\n      usernameAlreadyExists: false\n    });\n  }\n\n  validateEmail(e) {\n    console.log(\"validating e-mail...\");\n    var emailFieldValue = e.target.value;\n    this.setState({\n      [e.target.name]: emailFieldValue\n    });\n    var reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n\n    if (reg.test(emailFieldValue) == false) {\n      this.setState({\n        isEmailValid: false\n      });\n    } else {\n      if (/@gmail.com\\s*$/.test(emailFieldValue)) {\n        this.setState({\n          isEmailValid: true\n        });\n        console.log(\"it ends in @yahoo\");\n      } else {\n        this.setState({\n          isEmailValid: false\n        });\n        console.log(\"it does not ends\");\n      }\n    }\n  }\n\n  validateMobile(e) {\n    console.log(\"validating mobile...\", e);\n    var mobileFieldValue = e.target.value;\n    this.setState({\n      [e.target.name]: mobileFieldValue\n    });\n    var reg = /^[0]?[789]\\d{9}$/;\n\n    if (reg.test(mobileFieldValue) == false) {\n      this.setState({\n        isMobileValid: false\n      });\n    } else {\n      this.setState({\n        isMobileValid: true\n      });\n      console.log(\"mobile number is not valid\");\n    }\n  }\n\n  render() {\n    if (this.state.showSuccessPopUp == false && this.state.emailAlreadyExists == false && this.state.usernameAlreadyExists == false) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '10%'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group center\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"E-Mail    \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\xA0\\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                style: {\n                  marginLeft: '2%'\n                },\n                type: \"email\",\n                placeholder: \"e-mail\",\n                name: \"email\",\n                className: \"input\",\n                value: this.state.email,\n                onChange: this.validateEmail,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginRight: '-104px',\n                color: 'red'\n              },\n              children: this.state.isEmailValid == false ? /*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: '12px',\n                  marginLeft: '45%'\n                },\n                children: \"Email is Not Valid\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 103\n              }, this) : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group center\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Mobile No    \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\xA0\\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"mobile no\",\n                name: \"mobile\",\n                className: \"input\",\n                value: this.state.mobile,\n                onChange: this.validateMobile,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginRight: '-104px',\n                color: 'red'\n              },\n              children: this.state.isMobileValid == false ? /*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: '12px',\n                  marginLeft: '45%'\n                },\n                children: \"Mobile Number is Not Valid\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 104\n              }, this) : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group center\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Username  \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\xA0\\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"username\",\n                className: \"input\",\n                name: \"username\",\n                value: this.state.username,\n                onChange: this.onChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group center\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Password  \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\xA0\\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                style: {\n                  marginLeft: '0.5%'\n                },\n                type: \"password\",\n                placeholder: \"password\",\n                className: \"input\",\n                name: \"password\",\n                value: this.state.password,\n                onChange: this.onChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-dark\",\n              style: {\n                marginLeft: '48%',\n                marginTop: '2%'\n              },\n              onClick: this.saveUser,\n              children: \"Register!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this);\n    }\n\n    if (this.state.showSuccessPopUp == true) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-alert-overlay\",\n          style: {\n            zIndex: 900\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-60\",\n          style: {\n            width: '25%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"repeater modal-head\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Registeration Successful\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"javascript:void(0)\",\n              onClick: this.onClose\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"repeater modal-body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: messages.USER_REGISTERED_SUCCESSFULLY\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"repeater modal-button\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"\",\n              onClick: this.onClose,\n              children: \"ok\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }, this);\n    }\n\n    if (this.state.emailAlreadyExists == true) {\n      return /*#__PURE__*/_jsxDEV(PopUp, {\n        headerMessage: messages.USER_REGISTERED_UNSUCCESSFULLY,\n        bodyMessage: messages.USER_WITH_SAME_EMAIL_ALREADY_EXISTS,\n        onClose: this.onClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }, this);\n    }\n\n    if (this.state.usernameAlreadyExists == true) {\n      return /*#__PURE__*/_jsxDEV(PopUp, {\n        headerMessage: messages.USER_REGISTERED_UNSUCCESSFULLY,\n        bodyMessage: messages.USER_WITH_SAME_USERNAME_ALREADY_EXISTS,\n        onClose: this.onClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }, this);\n    }\n  }\n\n}\n\nexport default RegisterUserComponent;","map":{"version":3,"sources":["C:/Users/HP/Desktop/Personal/swaraj_ui/src/RegisterUserComponent.jsx"],"names":["React","Component","ApiService","PopUp","messages","RegisterUserComponent","constructor","props","saveUser","e","console","log","state","username","password","preventDefault","user","email","role","isEmailValid","addUser","then","res","responseCode","data","code","setState","showSuccessPopUp","service_flag","emailAlreadyExists","usernameAlreadyExists","isUserNameValid","isPasswordValid","isRoleValid","onChange","target","name","value","mobile","bind","onClose","validateEmail","validateMobile","emailFieldValue","reg","test","mobileFieldValue","isMobileValid","render","marginTop","marginLeft","marginRight","color","fontSize","zIndex","width","USER_REGISTERED_SUCCESSFULLY","USER_REGISTERED_UNSUCCESSFULLY","USER_WITH_SAME_EMAIL_ALREADY_EXISTS","USER_WITH_SAME_USERNAME_ALREADY_EXISTS"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport ApiService from \"./ApiService\";\r\nimport PopUp from \"./Popup\";\r\nimport {messages} from \"./messages\";\r\nimport './App.css';\r\n\r\nclass RegisterUserComponent extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state ={\r\n            username: '',\r\n            password: '',\r\n            email: '',\r\n            role: '',\r\n            mobile : '',\r\n            showSuccessPopUp : false,\r\n            isEmailValid : true,\r\n            isUserNameValid : true,\r\n            isPasswordValid : true,\r\n            isRoleValid : true,\r\n            emailAlreadyExists : false,\r\n            usernameAlreadyExists : false\r\n        }\r\n        this.saveUser = this.saveUser.bind(this);\r\n        this.onClose = this.onClose.bind(this);\r\n        this.validateEmail = this.validateEmail.bind(this);\r\n        this.validateMobile = this.validateMobile.bind(this);\r\n    }\r\n    saveUser = (e) => {\r\n        console.log(\"validating username....\");\r\n        if(this.state.username && this.state.password){\r\n            e.preventDefault();\r\n            let user = {  email: this.state.email, username: this.state.username, password: this.state.password, role: \"NONADMIN\"};\r\n            if(this.state.isEmailValid == true){\r\n            ApiService.addUser(user).then((res) => {\r\n                    console.log(\"response of register is : \",res);\r\n                    var responseCode = res.data.code;\r\n                    console.log(\"responseCode is : \"+responseCode);\r\n                    if(responseCode == 200){\r\n                        this.setState({showSuccessPopUp : true});\r\n                    }\r\n                    if(responseCode == 406 && res.data.data.service_flag == \"USER_WITH_SAME_EMAIL_ALREADY_EXISTS\"){\r\n                        this.setState({emailAlreadyExists : true});\r\n                    }\r\n                    if(responseCode == 406 && res.data.data.service_flag == \"USER_WITH_SAME_USERNAME_ALREADY_EXISTS\"){\r\n                        this.setState({usernameAlreadyExists : true});\r\n                    }\r\n                });\r\n            }else{\r\n                return false;\r\n            }\r\n        }else{\r\n             if(!this.state.username){this.setState({isUserNameValid : false});}\r\n             if(!this.state.password){this.setState({isPasswordValid : false});}\r\n             if(!this.state.role){this.setState({isRoleValid : false});}\r\n            return false;\r\n        }\r\n    }\r\n\r\n    onClose(){\r\n        this.setState({showSuccessPopUp : false, emailAlreadyExists : false, usernameAlreadyExists : false});\r\n    }\r\n\r\n    onChange = (e) =>\r\n        this.setState({ [e.target.name]: e.target.value ,isUserNameValid : true,isPasswordValid : true,isRoleValid : true});\r\n\r\n    validateEmail(e){\r\n        console.log(\"validating e-mail...\");\r\n        var emailFieldValue = e.target.value;\r\n        this.setState({ [e.target.name]: emailFieldValue });\r\n        var reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\r\n        if (reg.test(emailFieldValue) == false) \r\n        {\r\n            this.setState({isEmailValid : false});\r\n        }\r\n        else\r\n        {\r\n            if(/@gmail.com\\s*$/.test(emailFieldValue))\r\n            {\r\n                this.setState({isEmailValid : true});\r\n                console.log(\"it ends in @yahoo\");\r\n            }\r\n            else\r\n            {\r\n                this.setState({isEmailValid : false});\r\n                console.log(\"it does not ends\");\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n    validateMobile(e){\r\n        console.log(\"validating mobile...\",e);\r\n        var mobileFieldValue = e.target.value;\r\n        this.setState({ [e.target.name]: mobileFieldValue });\r\n        var reg = /^[0]?[789]\\d{9}$/\r\n        if (reg.test(mobileFieldValue) == false) \r\n        {\r\n            this.setState({isMobileValid : false});\r\n        }\r\n        else\r\n        {\r\n                this.setState({isMobileValid : true});\r\n                console.log(\"mobile number is not valid\");\r\n            \r\n        }\r\n    }\r\n\r\n    render() \r\n    {\r\n        if(this.state.showSuccessPopUp == false && this.state.emailAlreadyExists == false && this.state.usernameAlreadyExists == false)\r\n        {\r\n        return(\r\n            <div style={{marginTop: '10%'}}>\r\n                <form>\r\n                <div>\r\n                <div className=\"form-group center\">\r\n                    <label>E-Mail    </label><label>&nbsp;&nbsp;</label>\r\n                    <input style={{marginLeft: '2%'}} type=\"email\" placeholder=\"e-mail\" name=\"email\" className = \"input\"  value={this.state.email} onChange={this.validateEmail} required/>\r\n                </div>\r\n                <div style={{marginRight: '-104px', color:'red'}}>{this.state.isEmailValid == false ? <label style={{fontSize : '12px',marginLeft : '45%'}}>Email is Not Valid</label> : \"\"}</div>\r\n                <div className=\"form-group center\">\r\n                    <label>Mobile No    </label><label>&nbsp;&nbsp;</label>\r\n                    <input type=\"text\" placeholder=\"mobile no\" name=\"mobile\" className = \"input\"  value={this.state.mobile} onChange={this.validateMobile} required/>\r\n                </div>\r\n                <div style={{marginRight: '-104px', color:'red'}}>{this.state.isMobileValid == false ? <label style={{fontSize : '12px',marginLeft : '45%'}}>Mobile Number is Not Valid</label> : \"\"}</div>\r\n                <div className=\"form-group center\">\r\n                    <label>Username  </label><label>&nbsp;&nbsp;</label>\r\n                    <input type=\"text\" placeholder=\"username\" className = \"input\" name=\"username\" value={this.state.username} onChange={this.onChange} required/>\r\n                </div>\r\n                <div className=\"form-group center\">\r\n                    <label>Password  </label><label>&nbsp;&nbsp;</label>\r\n                    <input style={{marginLeft: '0.5%'}} type=\"password\" placeholder=\"password\" className = \"input\"  name=\"password\" value={this.state.password} onChange={this.onChange} required/>\r\n                </div>\r\n                <button className=\"btn btn-dark\" style={{marginLeft: '48%',marginTop: '2%'}} onClick={this.saveUser}>Register!</button>\r\n                </div>\r\n                </form>\r\n            </div>\r\n            );\r\n        }\r\n    if(this.state.showSuccessPopUp == true)\r\n    {\r\n        return(\r\n            <div>\r\n                <div className=\"modal-alert-overlay\" style={{zIndex:900}} ></div>\r\n                <div className=\"modal-60\" style={{width:'25%'}}>\r\n                    <div className=\"repeater modal-head\">\r\n                        <span>{\"Registeration Successful\"}</span>\r\n                        <a href=\"javascript:void(0)\" onClick={this.onClose}></a>\r\n                    </div>\r\n                    <div className=\"repeater modal-body\">\r\n                        <div>{messages.USER_REGISTERED_SUCCESSFULLY}</div>\r\n                    </div>\r\n                    <div className=\"repeater modal-button\">\r\n                        <a href=\"\" onClick={this.onClose}>{\"ok\"}</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n                );\r\n    }\r\n    if(this.state.emailAlreadyExists == true)\r\n    {\r\n            return (<PopUp headerMessage = {messages.USER_REGISTERED_UNSUCCESSFULLY} bodyMessage = {messages.USER_WITH_SAME_EMAIL_ALREADY_EXISTS} onClose={this.onClose}/>);\r\n    }\r\n    if(this.state.usernameAlreadyExists == true)\r\n    {\r\n            return (<PopUp headerMessage = {messages.USER_REGISTERED_UNSUCCESSFULLY} bodyMessage = {messages.USER_WITH_SAME_USERNAME_ALREADY_EXISTS} onClose={this.onClose}/>);\r\n    }\r\n    }\r\n}\r\n\r\nexport default RegisterUserComponent;"]},"metadata":{},"sourceType":"module"}